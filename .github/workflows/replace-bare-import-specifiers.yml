name: replace bare import specificiers
on:
    push:
        branches:
            - main
jobs:
    replace:
        runs-on: macos-latest
        steps:
            - uses: denoland/setup-deno@v1
              with:
                  deno-version: vx.x.x
            - uses: actions/checkout@v2
            - name: Merge main -> url-imports
              uses: everlytic/branch-merge@1.1.2
              with:
                  github_token: ${{ github.token }}
                  source_ref: ${{ github.ref }}
                  target_branch: "url-imports"
                  commit_message_template: "[Automated] Merged {source_ref} into target {target_branch}"
            - name: checkout url-imports
              uses: actions/checkout@v2
              with:
                  ref: url-imports
            - name: replace import specificiers
              run: deno run -A ./.github/workflows/replace-bare-import-specifiers.js
